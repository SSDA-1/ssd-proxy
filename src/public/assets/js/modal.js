!function (e) { "function" != typeof e.matches && (e.matches = e.msMatchesSelector || e.mozMatchesSelector || e.webkitMatchesSelector || function (e) { for (var t = this, o = (t.document || t.ownerDocument).querySelectorAll(e), n = 0; o[n] && o[n] !== t;)++n; return Boolean(o[n]) }), "function" != typeof e.closest && (e.closest = function (e) { for (var t = this; t && 1 === t.nodeType;) { if (t.matches(e)) return t; t = t.parentNode } return null }) }(window.Element.prototype); document.addEventListener('DOMContentLoaded', function () { function sanitizeText(a) { const temp = document.createElement('div'); temp.textContent = a; return temp.innerHTML } var c = document.querySelectorAll('.js-open-modal'), overlay = document.querySelector('.js-overlay-modal'), closeButtons = document.querySelectorAll('.js-modal-close'); c.forEach(function (b) { b.addEventListener('click', function (e) { e.preventDefault(); var a = this.getAttribute('data-modal'), modalElem = document.querySelector('.modal[data-modal="' + a + '"]'); modalElem.classList.add('active'); overlay.classList.add('active'); if (this.dataset.title != undefined) { let modalTitle = sanitizeText(this.dataset.title); document.querySelector('.modal .modal__title').innerHTML = modalTitle } }) }); closeButtons.forEach(function (b) { b.addEventListener('click', function (e) { var a = this.closest('.modal'); a.classList.remove('active'); overlay.classList.remove('active') }) }); document.body.addEventListener('keyup', function (e) { var a = e.keyCode; if (a == 27) { var b = document.querySelector('.modal.active'); if (b) { b.classList.remove('active') } overlay.classList.remove('active') } }, false); overlay.addEventListener('click', function () { var a = document.querySelector('.modal.active'); if (a) { a.classList.remove('active') } this.classList.remove('active') }) });
